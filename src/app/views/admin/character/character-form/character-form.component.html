<div class="fixed inset-0 bg-black/60 flex items-center justify-center z-50">
  <div class="bg-gray-900/95 text-gray-200 rounded-xl shadow-2xl w-96 p-6 border border-purple-500/40">
    <h2 class="text-xl font-bold mb-4 text-purple-400 drop-shadow">
      {{ character ? '✏️ Edit Character' : '➕ Add Character' }}
    </h2>

    <form [formGroup]="form" (ngSubmit)="onSubmit()" class="flex flex-col gap-4">
      <input
        type="text"
        formControlName="name"
        placeholder="Character Name"
        class="px-3 py-2 rounded-lg bg-gray-800 text-gray-200 border border-gray-700 focus:outline-none focus:ring-2 focus:ring-purple-500 placeholder:text-gray-600"
        required
      />

      <div>
        <label class="block mb-1">Attributes</label>
        <ng-select [items]="attributes"
          class="w-full rounded-lg bg-gray-800 text-gray-200 border border-gray-700 focus:ring-2 focus:ring-purple-500"
          bindLabel="title"
          [multiple]="true"
          bindValue="id"
          formControlName="attributeIds">
        </ng-select>
      </div>

      <div class="flex justify-end gap-2">
        <button type="button" (click)="onCancel()" class="px-4 py-2 bg-gray-300 text-gray-800 rounded-lg hover:bg-gray-400">
          Cancel
        </button>
        <button type="submit" [disabled]="form.invalid" class="px-4 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded-lg shadow-lg transition transform hover:scale-105">
          {{ character ? 'Update' : 'Save' }}
        </button>
      </div>
    </form>
  </div>
</div>
